{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-5f041e5c\"],{\"10fd\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.d(__webpack_exports__,\"b\",function(){return isemail}),__webpack_require__.d(__webpack_exports__,\"d\",function(){return isusername}),__webpack_require__.d(__webpack_exports__,\"e\",function(){return loginusername}),__webpack_require__.d(__webpack_exports__,\"a\",function(){return ischecknum}),__webpack_require__.d(__webpack_exports__,\"c\",function(){return ispassword});var _libs_http__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(\"b1d0\"),_libs_crypto__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(\"e0ac\");function isemail(rule,value,callback){var reg=/^[a-z0-9](?:[-_.+]?[a-z0-9]+)*@.*?\\.com$/;if(!reg.test(value.trim()))return callback(new Error(\"请输入合法邮箱\"));var data={type:\"email\",data:value};data=JSON.stringify(data);var params={data:_libs_crypto__WEBPACK_IMPORTED_MODULE_1__[\"a\"].Encrypt(data)};_libs_http__WEBPACK_IMPORTED_MODULE_0__[\"a\"].post(\"/api/query\",params).then(function(res){switch(res.data=eval(\"(\"+res.data+\")\"),res.data.code){case\"Z1001\":return callback(new Error(\"系统异常\"));case\"Z1002\":return callback(new Error(\"请求方法异常\"));case\"Z1007\":return callback(new Error(\"邮箱已注册\"));default:callback()}})}function isusername(rule,value,callback){var reg=/^[A-Za-z0-9]{1,10}$/;if(!reg.test(value.trim()))return callback(new Error(\"用户名输入错误\"));var data={type:\"username\",data:value};data=JSON.stringify(data);var params={data:_libs_crypto__WEBPACK_IMPORTED_MODULE_1__[\"a\"].Encrypt(data)};_libs_http__WEBPACK_IMPORTED_MODULE_0__[\"a\"].post(\"/api/query\",params).then(function(res){switch(res.data=eval(\"(\"+res.data+\")\"),res.data.code){case\"Z1001\":return callback(new Error(\"系统异常\"));case\"Z1002\":return callback(new Error(\"请求方法异常\"));case\"Z1006\":return callback(new Error(\"用户名已注册\"));default:callback()}})}function loginusername(e,r,t){var a=/^[A-Za-z0-9]{1,10}$/;if(!a.test(r.trim()))return t(new Error(\"用户名输入错误\"));t()}function ischecknum(e,r,t){var a=/^[A-Za-z0-9]{6}$/;if(!a.test(r.trim()))return t(new Error(\"注册码输入错误\"));t()}function ispassword(e,r,t){var a=/^[A-Za-z0-9]{8,16}$/;if(!a.test(r.trim()))return t(new Error(\"密码输入错误\"));t()}},\"1c35\":function(e,r,t){\"use strict\";var a=t(\"888e\"),s=t.n(a);s.a},2437:function(e,r,t){\"use strict\";var a=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t(\"Form\",{ref:\"RegisterForm\",attrs:{model:e.form,rules:e.rules},nativeOn:{keydown:function(r){return!r.type.indexOf(\"key\")&&e._k(r.keyCode,\"enter\",13,r.key,\"Enter\")?null:e.handleSubmit(r)}}},[t(\"FormItem\",{attrs:{prop:\"username\"}},[t(\"Input\",{attrs:{placeholder:\"请输入用户名,1-10位字母数字\"},on:{\"on-blur\":function(r){return e.handleusername()}},model:{value:e.form.username,callback:function(r){e.$set(e.form,\"username\",r)},expression:\"form.username\"}},[t(\"span\",{attrs:{slot:\"prepend\"},slot:\"prepend\"},[t(\"Icon\",{attrs:{size:16,type:\"ios-contact\"}})],1)])],1),t(\"FormItem\",{attrs:{prop:\"email\"}},[t(\"Input\",{attrs:{placeholder:\"请输入邮箱地址\"},on:{\"on-blur\":function(r){return e.handlemail()}},model:{value:e.form.email,callback:function(r){e.$set(e.form,\"email\",r)},expression:\"form.email\"}},[t(\"span\",{attrs:{slot:\"prepend\"},slot:\"prepend\"},[t(\"Icon\",{attrs:{size:16,type:\"ios-mail\"}})],1)])],1),t(\"FormItem\",{attrs:{prop:\"checknum\"}},[t(\"Input\",{staticStyle:{width:\"170px\"},attrs:{placeholder:\"请输入验证码\"},model:{value:e.form.checknum,callback:function(r){e.$set(e.form,\"checknum\",r)},expression:\"form.checknum\"}},[t(\"span\",{attrs:{slot:\"prepend\"},slot:\"prepend\"},[t(\"Icon\",{attrs:{size:16,type:\"ios-key\"}})],1)]),t(\"Button\",{staticStyle:{position:\"absolute\",right:\"0px\",top:\"2px\"},attrs:{type:\"primary\",\"float:\":\"\",left:\"\"},on:{click:e.getchecknum}},[e._v(\"获取验证码\")])],1),t(\"FormItem\",{attrs:{prop:\"password\"}},[t(\"Input\",{attrs:{type:\"password\",placeholder:\"请输入密码,8-16位字母数字\"},model:{value:e.form.password,callback:function(r){e.$set(e.form,\"password\",r)},expression:\"form.password\"}},[t(\"span\",{attrs:{slot:\"prepend\"},slot:\"prepend\"},[t(\"Icon\",{attrs:{size:14,type:\"md-lock\"}})],1)])],1),t(\"FormItem\",{attrs:{prop:\"passwordconfirm\"}},[t(\"Input\",{attrs:{type:\"password\",placeholder:\"请再次输入密码,8-16位字母数字\"},model:{value:e.form.passwordconfirm,callback:function(r){e.$set(e.form,\"passwordconfirm\",r)},expression:\"form.passwordconfirm\"}},[t(\"span\",{attrs:{slot:\"prepend\"},slot:\"prepend\"},[t(\"Icon\",{attrs:{size:14,type:\"md-lock\"}})],1)])],1),t(\"FormItem\",[t(\"Button\",{attrs:{type:\"primary\",long:\"\"},on:{click:e.handleSubmit}},[e._v(\"注册\")])],1),t(\"FormItem\",[t(\"Button\",{attrs:{type:\"primary\",long:\"\"},on:{click:e.ToLogin}},[e._v(\"已有账号?马上登录\")])],1)],1)},s=[],_=t(\"6c88\"),i=_[\"a\"],n=t(\"2877\"),o=Object(n[\"a\"])(i,a,s,!1,null,null,null),c=o.exports;r[\"a\"]=c},\"4ce3\":function(e,r,t){\"use strict\";t.r(r);var a=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t(\"div\",{staticClass:\"register\"},[t(\"div\",{staticClass:\"register-con\"},[t(\"Card\",{attrs:{icon:\"log-in\",title:\"欢迎注册\",bordered:!1}},[t(\"div\",{staticClass:\"form-con\"},[t(\"register-form\",{on:{\"on-success-valid\":e.handleSubmit}})],1)])],1)])},s=[],_=t(\"57da\"),i=_[\"a\"],n=(t(\"1c35\"),t(\"2877\")),o=Object(n[\"a\"])(i,a,s,!1,null,null,null);r[\"default\"]=o.exports},\"57da\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";var _c_register_form__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(\"2437\"),_libs_crypto__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(\"e0ac\"),_libs_http__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(\"b1d0\");__webpack_exports__[\"a\"]={components:{RegisterForm:_c_register_form__WEBPACK_IMPORTED_MODULE_0__[\"a\"]},methods:{handleSubmit:function handleSubmit(_ref){var _this=this,username=_ref.username,email=_ref.email,password=_ref.password,checknum=_ref.checknum,capta=_ref.capta;if(checknum!=capta)this.$Notice.error({title:\"验证码错误\",desc:\"请重新输入验证码 \"});else{var data={username:username.trim(),email:email.trim(),password:password.trim()};data=JSON.stringify(data);var params={data:_libs_crypto__WEBPACK_IMPORTED_MODULE_1__[\"a\"].Encrypt(data)};_libs_http__WEBPACK_IMPORTED_MODULE_2__[\"a\"].post(\"/api/register\",params).then(function(res){switch(res.data=eval(\"(\"+res.data+\")\"),res.data.code){case\"Z1000\":_this.$Notice.success({title:\"注册成功\",desc:\"请稍后在跳转的登录页面登录 \"}),setTimeout(function(){_this.$router.push({path:\"/login\"})},5e3);break;case\"Z1001\":_this.$Notice.error({title:\"注册失败\",desc:\"系统发生异常,请稍后再次尝试\"});break;case\"Z1002\":_this.$Notice.error({title:\"注册失败\",desc:\"系统发生异常,请稍后再次尝试\"});break;default:break}})}}}}},\"6c88\":function(module,__webpack_exports__,__webpack_require__){\"use strict\";var _libs_validate__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(\"10fd\"),_libs_crypto__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(\"e0ac\"),_libs_http__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(\"b1d0\");__webpack_exports__[\"a\"]={name:\"RegisterForm\",props:{usernameRules:{type:Array,default:function(){return[{required:!0,trigger:\"blur\",validator:_libs_validate__WEBPACK_IMPORTED_MODULE_0__[\"d\"],min:1}]}},emailRules:{type:Array,default:function(){return[{required:!0,trigger:\"blur\",validator:_libs_validate__WEBPACK_IMPORTED_MODULE_0__[\"b\"]}]}},checknumRules:{type:Array,default:function(){return[{required:!0,trigger:\"blur\",validator:_libs_validate__WEBPACK_IMPORTED_MODULE_0__[\"a\"]}]}},passwordRules:{type:Array,default:function(){return[{required:!0,trigger:\"blur\",validator:_libs_validate__WEBPACK_IMPORTED_MODULE_0__[\"c\"]}]}},passwordconfirmRules:{type:Array,default:function(){return[{required:!0,trigger:\"blur\",validator:_libs_validate__WEBPACK_IMPORTED_MODULE_0__[\"c\"]}]}}},data:function(){return{capta:\"\",form:{username:\"\",email:\"\",checknum:\"\",password:\"\",passwordconfirm:\"\"},username:{type:\"username\",data:\"\"}}},computed:{rules:function(){return{username:this.usernameRules,email:this.emailRules,checknum:this.checknumRules,password:this.passwordRules,passwordconfirm:this.passwordconfirmRules}}},methods:{handleusername:function(){this.$refs.RegisterForm.validateField(\"username\",function(e){})},handlemail:function(){this.$refs.RegisterForm.validateField(\"email\",function(e){})},getchecknum:function getchecknum(){var _this=this;if(\"\"==this.form.email)this.$refs.RegisterForm.validateField(\"email\",function(e){});else{var data={type:\"email\",data:this.form.email};data=JSON.stringify(data);var params={data:_libs_crypto__WEBPACK_IMPORTED_MODULE_1__[\"a\"].Encrypt(data)};_libs_http__WEBPACK_IMPORTED_MODULE_2__[\"a\"].post(\"/api/getchecknum\",params).then(function(res){switch(console.log(res.data),res.data=eval(\"(\"+res.data+\")\"),res.data.code){case\"Z1000\":_this.$Notice.success({title:\"发送邮件成功\",desc:\"请打开邮件查收验证码 \"}),_this.capta=res.data.data.capta;break;case\"Z1001\":_this.$Notice.error({title:\"发送邮件失败\",desc:\"系统发生异常,请稍后再次尝试\"});break;case\"Z1002\":_this.$Notice.error({title:\"发送邮件失败\",desc:\"系统发生异常,请稍后再次尝试\"});break}})}},handleSubmit:function(){var e=this;this.$refs.RegisterForm.validate(function(r){r&&(e.form.password!=e.form.passwordconfirm?e.$Notice.error({title:\"二次密码输入错误\",desc:\"二次密码输入错误,请重新输入!\"}):e.$emit(\"on-success-valid\",{username:e.form.username,email:e.form.email,password:e.form.password,checknum:e.form.checknum,capta:e.capta}))})},ToLogin:function(){var e=this;setTimeout(function(){e.$router.push({path:\"/login\"})},1e3)}}}},\"888e\":function(e,r,t){}}]);","extractedComments":[]}